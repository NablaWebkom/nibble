<!DOCTYPE html>
<html lang="en" ng-app="nibble" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Nibble</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" type="image/ico" href="./favicon.ico"/>

  <link rel="stylesheet" href="bower_components/materialize/bin/materialize.css">
  <link rel="stylesheet" href="app.css">
  <script src="bower_components/jquery/dist/jquery.js"></script>
  <script src="bower_components/materialize/bin/materialize.js"></script>
  

</head>
<body>
  <div class="page-wrapper">
    <div class="navbar-fixed">
      <nav class="nibble-color">
        <div class="nav-wrapper">
          <a href="" class="brand-logo"><img class="logo" src="./static/images/favicon.png"/>Nibble</a>
          <ul class="right">
            <li title="Hjelp"><a class="nav-btn" href="#helpModal" modal><i class="material-icons">help_outline</i><span class="hover-text">Hjelp</span></a></li>
            <span ng-show="user">
              <li title="Legg til cash">
                <a class="nav-btn" href="#addCashModal" modal>
                  <i class="material-icons pre-icon inline">add</i>
                  <i class="material-icons inline">attach_money</i>
                  <span class="hover-text"><br>Påfyll</span>
                </a>
              </li>
              <li title="Min bruker">
                <a href="#" class="dropdown-button darker nav-user" data-activates="user-action">
                  <span>{{ user.name }} </span>
                  <small> {{ user.balance }}kr</small>
                  <i class="material-icons right">arrow_drop_down</i>
                </a>
                <ul class="dropdown-content" id="user-action">
                  <!--View spesifict functions?-->
                  <!--'History' will so show a modal with a history of all sessions-->
                  <li><a href="">Kjøpshistorikk</a></li>
                  <li><a href="#addCashModal" modal>Legg til penger</a></li>
                  <!--'Ta ut penger' will so show a modal with for widthdrawing money-->
                  <li><a href="#withdrawCashModal" modal>Ta ut penger</a></li>
                  
                </ul>
              </li>
              <li>
                <a class="nav-btn alt nibble-text" title="Avbryt og logg ut" href="#/" ng-click="logout()">
                  <span class="countdown">{{logoutTimer}}</span>
                  <i class="material-icons inline">exit_to_app</i>
                  <span class="hover-text">Exit</span>
                </a>
              </li>
            </span>
          </ul>
        </div>
      </nav>
    </div>

  <div ng-view></div>


  <div id="addCashModal" class="modal add-money">
      <div class="modal-content">
          <h4>Legg inn penger</h4>
          <h5>Kontant</h5>
          <p>
          <b>Legg kontant i pengekassa som står i kjøleskapet, så registrer samme beløp her!</b>

          <div class="radio-group">

          <!-- TODO: Fix checkboxes (currently nothing happens when clicked) -->
            <span ng-repeat="amount in cash_amounts track by $index">
              <input value="{{cash_amounts[$index]}}" ng-model="add_money_amount" name="cash_amounts[$index" type="radio" id="check_{{cash_amounts[$index]}}" />
              <label for="check_{{cash_amounts[$index]}}">{{cash_amounts[$index]}}kr</label>
            </span>
          </div>

          <br>
          eller:
          <div class="input-field col s6">
            <input ng-model="add_money_amount" id="custom_amount" type="text">
            <label for="custom_amount">Velg eget beløp</label>
          </div>
          
          </p>
      </div>
      <div class="modal-footer">
          <a href class="modal-action modal-close waves-effect btn-flat">Avbryt</a>
          <button ng-click="addMoney(add_money_amount)" ng-disabled="invalidAmount(add_money_amount)" class="modal-action modal-close waves-effect btn nibble-color lighter
">Sett inn</button>
      </div>
  </div>

  <div id="withdrawCashModal" class="modal add-money">
      <div class="modal-content">
          <h4>Ta ut penger</h4>
          <h5>Kontant</h5>
          <p>
          <b>Velg beløpet du ønsker å ta ut, så ta pengene fra kassa i kjøleskapet!</b>

          <div class="radio-group">

          <!-- TODO: Fix checkboxes (currently nothing happens when clicked) -->
            <span ng-repeat="amount in cash_amounts track by $index">
              <input value="{{cash_amounts[$index]}}" ng-model="withdraw_money_amount" name="cash_amounts[$index" type="radio" id="withdraw_check_{{cash_amounts[$index]}}" />
              <label for="withdraw_check_{{cash_amounts[$index]}}">{{cash_amounts[$index]}}kr</label>
            </span>
          </div>

          <br>
          eller:
          <div class="input-field col s6">
            <input ng-model="withdraw_money_amount" id="withdraw_custom_amount" type="text">
            <label for="withdraw_custom_amount">Velg eget beløp</label>
          </div>
          
          </p>
      </div>
      <div class="modal-footer">
          <a href class="modal-action modal-close waves-effect btn-flat">Avbryt</a>
          <button ng-click="withdrawMoney(withdraw_money_amount)" ng-disabled="invalidWithdrawAmount(withdraw_money_amount)" class="modal-action modal-close waves-effect btn nibble-color lighter
">Ta ut</button>
      </div>
  </div>

  <div id="checkoutModal" class="modal modal-fixed-footer add-money">
      <div class="modal-content valign-wrapper row">
        <div class="valign center-align col s12">
          <!--<i class="material-icons large-icon green-text">check_circle</i>-->


          <div class="checkmark">
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" x="0px" y="0px" viewBox="0, 0, 100, 100" id="checkmark">
                  <g transform="">
                    <circle class="path" fill="none" stroke="#7DB0D5" stroke-width="4" stroke-miterlimit="10" cx="50" cy="50" r="44"/>
                      <circle class="fill" fill="none" stroke="#7DB0D5" stroke-width="4" stroke-miterlimit="10" cx="50" cy="50" r="44"/>
                    <polyline class="check" fill="none" stroke="#7DB0D5" stroke-width="8" stroke-linecap="square" stroke-miterlimit="10" points="70,35 45,65 30,52  "/>
                  </g>
              </svg>
          </div>




          <h4 class="thinner">Handel fullført</h4>
          <h5>
            <div class="row">
              <div ng-repeat="element in shopQueue track by $index">
                <span class="col s6 bold right-align padd">
                {{ element.item.name }}
                </span>
                <span class="col s6 thinner left-align padd">
                  x {{ element.count }}
                </span>
              </div>
            </div>
          </h5>
          <h5 class="thinner grey-text darken-2">
            <b>{{ user.balance }}kr</b> igjen
          </h5>
        </div>
      </div>
      <div class="modal-footer">
          <a href ng-click="newOrder()" class="modal-action modal-close waves-effect btn-flat">Ny handel</a>
          <a ng-click="logout()" class="modal-action modal-close waves-effect btn blue-grey darken-1">Logg ut nå ({{logoutTimer}})</a>
      </div>
  </div>
  <div id="helpModal" class="modal">
      <div class="modal-content">
          <h4>Hjelp - Nibble</h4>
          <p>
          I motsetning til hva mange tror, er ikke Lorem Ipsum bare tilfeldig tekst. Dets røtter springer helt tilbake til et stykke klassisk latinsk litteratur fra 45 år f.kr., hvilket gjør det over 2000 år gammelt. Richard McClintock - professor i latin ved Hampden-Sydney College i Virginia, USA - slo opp flere av de mer obskure latinske ordene, consectetur, fra en del av Lorem Ipsum, og fant dets utvilsomme opprinnelse gjennom å studere bruken av disse ordene i klassisk litteratur. Lorem Ipsum kommer fra seksjon 1.10.32 og 1.10.33 i "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) av Cicero, skrevet i år 45 f.kr. Boken er en avhandling om teorier rundt etikk, og var veldig populær under renessansen. Den første linjen av Lorem Ipsum, "Lorem Ipsum dolor sit amet...", er hentet fra en linje i seksjon 1.10.32.

          Standardbiten av Lorem Ipsum brukt siden 1500-tallet er gjengitt nedenfor for spesielt interesserte. Seksjon 1.10.32 og 1.10.33 fra "de Finibus Bonorum et Malorum" av Cicero er også eksakt gjengitt, akkompagnert av engelske versjoner fra 1914-oversettelsen av H. Rackham.
          </p>
      </div>
      <div class="modal-footer">
          <a href class="modal-action modal-close waves-effect btn-flat">Lukk</a>
      </div>
  </div>

  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/angular-route/angular-route.js"></script>
  <script src="bower_components/angular-materialize/src/angular-materialize.js"></script>
  <script src="views/login/login.js"></script>
  <script src="views/shop/shop.js"></script>
  <script src="views/kvitering/kvitering.js"></script>
  <script src="app.js"></script>
</body>
</html>
